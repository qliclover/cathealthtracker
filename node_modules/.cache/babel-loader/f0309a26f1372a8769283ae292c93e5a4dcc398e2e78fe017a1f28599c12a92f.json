{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link,useNavigate}from'react-router-dom';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";function Navbar(){const navigate=useNavigate();const[isLoggedIn,setIsLoggedIn]=useState(false);useEffect(()=>{// Check if token exists in local storage to determine if user is logged in\nconst token=localStorage.getItem('token');setIsLoggedIn(!!token);},[]);const handleLogout=()=>{// Clear token and navigate to login page\nlocalStorage.removeItem('token');setIsLoggedIn(false);navigate('/login');};return/*#__PURE__*/_jsx(\"nav\",{className:\"navbar navbar-expand-lg navbar-dark bg-primary\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(Link,{className:\"navbar-brand\",to:\"/\",children:\"Cat Health Tracker\"}),/*#__PURE__*/_jsx(\"button\",{className:\"navbar-toggler\",type:\"button\",\"data-bs-toggle\":\"collapse\",\"data-bs-target\":\"#navbarNav\",children:/*#__PURE__*/_jsx(\"span\",{className:\"navbar-toggler-icon\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"collapse navbar-collapse\",id:\"navbarNav\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"navbar-nav ms-auto\",children:isLoggedIn?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/cats\",children:\"My Cats\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(\"button\",{className:\"nav-link btn btn-link\",onClick:handleLogout,children:\"Logout\"})})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/login\",children:\"Login\"})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/register\",children:\"Register\"})})]})})})]})});}export default Navbar;","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Navbar","navigate","isLoggedIn","setIsLoggedIn","token","localStorage","getItem","handleLogout","removeItem","className","children","to","type","id","onClick"],"sources":["/Users/qianli/cathealthtracker-full/cathealty/src/components/Navbar.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\n\nfunction Navbar() {\n  const navigate = useNavigate();\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n\n  useEffect(() => {\n    // Check if token exists in local storage to determine if user is logged in\n    const token = localStorage.getItem('token');\n    setIsLoggedIn(!!token);\n  }, []);\n\n  const handleLogout = () => {\n    // Clear token and navigate to login page\n    localStorage.removeItem('token');\n    setIsLoggedIn(false);\n    navigate('/login');\n  };\n\n  return (\n    <nav className=\"navbar navbar-expand-lg navbar-dark bg-primary\">\n      <div className=\"container\">\n        <Link className=\"navbar-brand\" to=\"/\">Cat Health Tracker</Link>\n        \n        <button \n          className=\"navbar-toggler\" \n          type=\"button\" \n          data-bs-toggle=\"collapse\" \n          data-bs-target=\"#navbarNav\"\n        >\n          <span className=\"navbar-toggler-icon\"></span>\n        </button>\n        \n        <div className=\"collapse navbar-collapse\" id=\"navbarNav\">\n          <ul className=\"navbar-nav ms-auto\">\n            {isLoggedIn ? (\n              <>\n                <li className=\"nav-item\">\n                  <Link className=\"nav-link\" to=\"/cats\">My Cats</Link>\n                </li>\n                <li className=\"nav-item\">\n                  <button \n                    className=\"nav-link btn btn-link\" \n                    onClick={handleLogout}\n                  >\n                    Logout\n                  </button>\n                </li>\n              </>\n            ) : (\n              <>\n                <li className=\"nav-item\">\n                  <Link className=\"nav-link\" to=\"/login\">Login</Link>\n                </li>\n                <li className=\"nav-item\">\n                  <Link className=\"nav-link\" to=\"/register\">Register</Link>\n                </li>\n              </>\n            )}\n          </ul>\n        </div>\n      </div>\n    </nav>\n  );\n}\n\nexport default Navbar;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,QAAA,IAAAC,SAAA,CAAAC,IAAA,IAAAC,KAAA,yBAErD,QAAS,CAAAC,MAAMA,CAAA,CAAG,CAChB,KAAM,CAAAC,QAAQ,CAAGR,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACS,UAAU,CAAEC,aAAa,CAAC,CAAGb,QAAQ,CAAC,KAAK,CAAC,CAEnDC,SAAS,CAAC,IAAM,CACd;AACA,KAAM,CAAAa,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3CH,aAAa,CAAC,CAAC,CAACC,KAAK,CAAC,CACxB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAG,YAAY,CAAGA,CAAA,GAAM,CACzB;AACAF,YAAY,CAACG,UAAU,CAAC,OAAO,CAAC,CAChCL,aAAa,CAAC,KAAK,CAAC,CACpBF,QAAQ,CAAC,QAAQ,CAAC,CACpB,CAAC,CAED,mBACEN,IAAA,QAAKc,SAAS,CAAC,gDAAgD,CAAAC,QAAA,cAC7DX,KAAA,QAAKU,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBf,IAAA,CAACH,IAAI,EAACiB,SAAS,CAAC,cAAc,CAACE,EAAE,CAAC,GAAG,CAAAD,QAAA,CAAC,oBAAkB,CAAM,CAAC,cAE/Df,IAAA,WACEc,SAAS,CAAC,gBAAgB,CAC1BG,IAAI,CAAC,QAAQ,CACb,iBAAe,UAAU,CACzB,iBAAe,YAAY,CAAAF,QAAA,cAE3Bf,IAAA,SAAMc,SAAS,CAAC,qBAAqB,CAAO,CAAC,CACvC,CAAC,cAETd,IAAA,QAAKc,SAAS,CAAC,0BAA0B,CAACI,EAAE,CAAC,WAAW,CAAAH,QAAA,cACtDf,IAAA,OAAIc,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAC/BR,UAAU,cACTH,KAAA,CAAAF,SAAA,EAAAa,QAAA,eACEf,IAAA,OAAIc,SAAS,CAAC,UAAU,CAAAC,QAAA,cACtBf,IAAA,CAACH,IAAI,EAACiB,SAAS,CAAC,UAAU,CAACE,EAAE,CAAC,OAAO,CAAAD,QAAA,CAAC,SAAO,CAAM,CAAC,CAClD,CAAC,cACLf,IAAA,OAAIc,SAAS,CAAC,UAAU,CAAAC,QAAA,cACtBf,IAAA,WACEc,SAAS,CAAC,uBAAuB,CACjCK,OAAO,CAAEP,YAAa,CAAAG,QAAA,CACvB,QAED,CAAQ,CAAC,CACP,CAAC,EACL,CAAC,cAEHX,KAAA,CAAAF,SAAA,EAAAa,QAAA,eACEf,IAAA,OAAIc,SAAS,CAAC,UAAU,CAAAC,QAAA,cACtBf,IAAA,CAACH,IAAI,EAACiB,SAAS,CAAC,UAAU,CAACE,EAAE,CAAC,QAAQ,CAAAD,QAAA,CAAC,OAAK,CAAM,CAAC,CACjD,CAAC,cACLf,IAAA,OAAIc,SAAS,CAAC,UAAU,CAAAC,QAAA,cACtBf,IAAA,CAACH,IAAI,EAACiB,SAAS,CAAC,UAAU,CAACE,EAAE,CAAC,WAAW,CAAAD,QAAA,CAAC,UAAQ,CAAM,CAAC,CACvD,CAAC,EACL,CACH,CACC,CAAC,CACF,CAAC,EACH,CAAC,CACH,CAAC,CAEV,CAEA,cAAe,CAAAV,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}